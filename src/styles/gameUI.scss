@import './variables';

$cell-size: 48px;

.game {
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 32px 128px;

	.player-side {
		display: flex;
		flex-direction: column;
		gap: 16px;
		align-items: center;

		.player-name {
			color: $color-dark;
			font-size: 1.8rem;
			font-weight: 700;
		}

		.gameboard-container {
			margin-right: $cell-size;
			width: calc($cell-size * 11);
			height: calc($cell-size * 11);

			.gameboard {
				width: 100%;
				height: 100%;
		
				display: grid;
				grid-template-columns: repeat(11, 1fr);
				grid-template-rows: repeat(11, 1fr);
		
				.gameboard-markup {
					width: 100%;
					height: 100%;
					color: $color-main;
		
					text-transform: uppercase;
					display: flex;
					justify-content: center;
					align-items: center;
				}
		
				.gameboard-grid {
					width: 100%;
					height: 100%;
					grid-column: 2/12;
					grid-row: 2/12;
		
					border: 1px solid $color-dark;
					display: grid;
					grid-template-columns: repeat(10, 1fr);
					grid-template-rows: repeat(10, 1fr);
					
					outline: 4px solid transparent; 
					transition: outline-color 0.3s ease-in-out;
					
					&.revealed {
						.gameboard-grid-cell.ship {
							z-index: 1;
							border: 3px dashed $color-dark;
							outline: 2px solid $color-dark;
						}
					}

					.gameboard-grid-cell {
						border: 1px solid $color-dark;
						transition: background-color 0.2s ease-in;

						&.hit {
							background-color: $color-main;
							&.damaged {
								background-color: $color-accent;
								&.destroyed {
									z-index: 1;
									background-color: $color-dark;
									outline: 3px dashed $color-dark;
								}
							}	
						}	
						
						
					}
		
					&.active {
						outline-color: $color-main;
						
						.gameboard-grid-cell {
							&:hover:not(.hit) {
								z-index: 1;
								border: 3px solid $color-dark;
								outline: 3px solid $color-dark;
								cursor: pointer;
							}
						}
					}
				}
			}
		}
	}

	.winner-label {
		grid-column: 1/3;
		font-size: 2rem;
		justify-self: center;
		text-align: center;
	}

	.new-game-btn {
		grid-column: 1/3;
		justify-self: center;
		font-size: 2rem;
		margin-bottom: 32px;

		width: 256px;
		height: 64px;

		border: none;
		border-radius: 12px;
		background-color: $color-main;
		color: $color-black;
		transition: color 0.2s ease-in-out, background-color 0.2s ease-in-out;

		&:hover {
			cursor: pointer;
			background-color: $color-dark;
			color: $color-white
		}
	}
}

